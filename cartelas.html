<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Comprar Cartelas</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background-image: url("img/fundo-cartela.jpg");
  background-size: cover;
  background-position: center;
  min-height: 100vh;
}

.container {
  background: rgba(0,0,0,0.6);
  color: #fff;
  padding: 20px;
  max-width: 900px;
  margin: auto;
  border-radius: 12px;
}

h1, h2 {
  text-align: center;
}

input, button {
  padding: 8px;
  margin: 5px;
  border-radius: 6px;
  border: none;
}

button {
  cursor: pointer;
  font-weight: bold;
}

#areaCartelas {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}

.cartela {
  background: rgba(255,255,255,0.9);
  color: #000;
  padding: 10px;
  margin: 10px;
  border-radius: 10px;
  width: 260px;
}

.cartela input {
  width: 45px;
  margin: 3px;
  text-align: center;
}
</style>
</head>

<body>

<div class="container">
  <h1>Comprar Cartelas</h1>

  <label>Quantidade de cartelas:</label>
  <input type="number" id="qtdCartelas" min="1" max="10" value="1">
  <br>
  <button id="btnCriar">Criar Cartelas</button>

  <div id="areaCartelas"></div>

  <button id="btnComprar">COMPRAR CARTELAS</button>
</div>

<script>
document.getElementById("btnCriar").addEventListener("click", criarCartelas);
document.getElementById("btnComprar").addEventListener("click", comprarCartelas);

function criarCartelas() {
  const qtd = Number(document.getElementById("qtdCartelas").value);
  const area = document.getElementById("areaCartelas");
  area.innerHTML = "";

  for (let c = 0; c < qtd; c++) {
    const div = document.createElement("div");
    div.className = "cartela";
    div.innerHTML = `<h3>Cartela ${c + 1}</h3>`;

    for (let i = 0; i < 15; i++) {
      const input = document.createElement("input");
      input.type = "number";
      input.min = 1;
      input.max = 75;
      input.placeholder = "NÂº";
      div.appendChild(input);
    }

    area.appendChild(div);
  }
}

function comprarCartelas() {
  const cartelas = [];
  const grupos = document.querySelectorAll(".cartela");

  if (grupos.length === 0) {
    alert("Crie as cartelas primeiro!");
    return;
  }

  grupos.forEach((grupo, index) => {
    const numeros = [];
    grupo.querySelectorAll("input").forEach(input => {
      const n = Number(input.value);
      if (n >= 1 && n <= 75) numeros.push(n);
    });

    if (numeros.length !== 15) {
      alert(`Cartela ${index + 1} incompleta`);
      throw new Error();
    }

    const unicos = new Set(numeros);
    if (unicos.size !== 15) {
      alert(`Cartela ${index + 1} tem nÃºmeros repetidos`);
      throw new Error();
    }

    cartelas.push({
      id: Date.now() + index,
      numeros,
      marcados: []
    });
  });

  localStorage.setItem("cartelasCompradas", JSON.stringify(cartelas));

  document.body.style.backgroundImage = "url('img/fundo-confirmacao.jpg')";
  document.querySelector(".container").innerHTML = `
    <h2>ðŸŽ‰ Cartelas compradas com sucesso!</h2>
    <p>Boa sorte no bingo!</p>
  `;
}
</script>

</body>
</html>

